# B-Tree Variants: Chapter 6 Notes

B-Tree variants share several common characteristics while differing in specific implementation details:

## Common Elements

- Tree structure
- Balancing through splits and merges
- Lookup and delete algorithms

## Variant-Specific Details

Implementation details that may vary include:

- Concurrency mechanisms
- On-disk page representation
- Links between sibling nodes
- Maintenance processes

## Key Variants Covered

### Copy-on-Write B-Trees

- Structured like standard B-trees
- Nodes are immutable and not updated in place
- Pages are copied when modifications are needed

### Lazy B-Trees

- Reduce I/O requests from subsequent same-node writes
- Buffer updates to nodes

### Two-Component LSM Trees

- Covered in the next chapter
- Take buffering further to implement fully immutable B-trees

### FT-Trees

- Different approach to buffering (somewhat similar to LSM trees)
- Buffer updates in a small B-tree
- When buffer tree fills up, contents are written into an immutable run
- Updates propagate between levels in a cascading manner from higher to lower levels

### Bw-Trees

- Separate B-tree nodes into several smaller parts written in an appendix
- Reduce costs of small writes by batching updates to different nodes together

### Cache-Oblivious B-Trees

- Allow treating disk data structures similarly to in-memory ones

# B-Tree変種：第6章ノート

B-Tree変種はいくつかの共通特性を持ちながらも、実装の詳細において違いがあります：

## 共通要素

- ツリー構造
- 分割と結合によるバランシング
- 検索と削除のアルゴリズム

## 変種ごとの特徴

実装の詳細で異なる可能性があるもの：

- 並行処理メカニズム
- ディスク上のページ表現
- 兄弟ノード間のリンク
- メンテナンスプロセス

## 主な変種

### コピーオンライトB-Tree

- 標準的なB-Treeと同様の構造
- ノードは不変であり、その場での更新はされない
- 変更が必要な場合はページがコピーされる

### 遅延B-Tree

- 同一ノードへの連続する書き込みによるI/O要求を削減
- ノードへの更新をバッファリングする

### 二成分LSM Tree

- 次の章で取り上げられる
- バッファリングをさらに進め、完全に不変なB-Treeを実装

### FT-Tree

- バッファリングに対する異なるアプローチ（LSM Treeと類似）
- 小さなB-Treeに更新をバッファリング
- バッファツリーが満杯になると、その内容は不変な実行（run）に書き込まれる
- 更新は上位レベルから下位レベルへとカスケード方式で伝播する

### Bw-Tree

- B-Treeノードを付録に書き込まれる複数の小さな部分に分離
- 異なるノードへの更新をバッチ処理することで小さな書き込みのコストを削減

### キャッシュ・オブリビアスB-Tree

- インメモリのデータ構造と同様の方法でディスクデータ構造を扱うことを可能にする
